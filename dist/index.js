function n(n){return n&&"object"==typeof n&&"default"in n?n.default:n}var e=require("inquirer"),t=n(require("node-wifi")),r=n(require("lodash")),o=require("jsonfile"),i=require("path"),u=require("fs");const c=function(){function n(){}return n.prototype.then=function(e,t){const r=new n,o=this.s;if(o){const n=1&o?e:t;if(n){try{s(r,1,n(this.v))}catch(n){s(r,2,n)}return r}return this}return this.o=function(n){try{const o=n.v;1&n.s?s(r,1,e?e(o):o):t?s(r,1,t(o)):s(r,2,o)}catch(n){s(r,2,n)}},r},n}();function s(n,e,t){if(!n.s){if(t instanceof c){if(!t.s)return void(t.o=s.bind(null,n,e));1&e&&(e=t.s),t=t.v}if(t&&t.then)return void t.then(s.bind(null,n,e),s.bind(null,n,2));n.s=e,n.v=t;const r=n.o;r&&r(n)}}function a(n){return n instanceof c&&1&n.s}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var f=i.join(__dirname,"../data/accessPoints.json");!function(){try{var n=function(n,e,t){for(var r;;){var o=n();if(a(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=t();if(i&&i.then){if(!a(i)){r=1;break}i=i.s}if(e){var u=e();if(u&&u.then&&!a(u)){r=2;break}}}var f=new c,h=s.bind(null,f,2);return(0===r?o.then(d):1===r?i.then(l):u.then(v)).then(void 0,h),f;function l(r){i=r;do{if(e&&(u=e())&&u.then&&!a(u))return void u.then(v).then(void 0,h);if(!(o=n())||a(o)&&!o.v)return void s(f,1,i);if(o.then)return void o.then(d).then(void 0,h);a(i=t())&&(i=i.v)}while(!i||!i.then);i.then(l).then(void 0,h)}function d(n){n?(i=t())&&i.then?i.then(l).then(void 0,h):l(i):s(f,1,i)}function v(){(o=n())?o.then?o.then(d).then(void 0,h):d(o):s(f,1,i)}}(function(){return!0},void 0,function(){return Promise.resolve(function(){try{return Promise.resolve(e.prompt([{type:"number",name:"numero_nodo",message:"Ingrese numero del nodo a analizar:"}])).then(function(n){return n.numero_nodo})}catch(n){return Promise.reject(n)}}()).then(function(n){return Promise.resolve(function(){try{return t.init({iface:null}),Promise.resolve(t.scan()).then(function(n){return r.map(n,function(n){return{ssid:n.ssid,mac:n.mac,channel:n.channel,signal_level:n.signal_level,quality:n.quality}})})}catch(n){return Promise.reject(n)}}()).then(function(e){console.log("nNodo: ",n),console.log("networks: ",e),function(n,e,t){void 0===t&&(t="w");try{Promise.resolve(o.writeFile(i.join(__dirname,"../data/",e),n,{flag:t})).then(function(){})}catch(n){return Promise.reject(n)}}(e,r.toString(n)+".json"),function(n,e){try{Promise.resolve(function(){try{var n={},e=function(){if(u.existsSync(f))return Promise.resolve(o.readFile(f)).then(function(e){n=e})}();return Promise.resolve(e&&e.then?e.then(function(){return n}):n)}catch(n){return Promise.reject(n)}}()).then(function(t){return r.forEach(n,function(n){r.defaults(t,{mac:{ssid:n.ssid,mac:n.mac,channel:n.channel,node:e,provider:"",ip:""}})}),Promise.resolve(function(n){try{return Promise.resolve(o.writeFile(f,n)).then(function(){return n})}catch(n){return Promise.reject(n)}}(t)).then(function(){return t})})}catch(n){return Promise.reject(n)}}(e,n)})})});Promise.resolve(n&&n.then?n.then(function(){}):void 0)}catch(n){return Promise.reject(n)}}();
//# sourceMappingURL=index.js.map
