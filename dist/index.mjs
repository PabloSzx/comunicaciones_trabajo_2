import{prompt as n}from"inquirer";import e from"node-wifi";import t from"lodash";import{writeFile as r,readFile as o}from"jsonfile";import{join as i}from"path";import{existsSync as c}from"fs";const u=function(){function n(){}return n.prototype.then=function(e,t){const r=new n,o=this.s;if(o){const n=1&o?e:t;if(n){try{s(r,1,n(this.v))}catch(n){s(r,2,n)}return r}return this}return this.o=function(n){try{const o=n.v;1&n.s?s(r,1,e?e(o):o):t?s(r,1,t(o)):s(r,2,o)}catch(n){s(r,2,n)}},r},n}();function s(n,e,t){if(!n.s){if(t instanceof u){if(!t.s)return void(t.o=s.bind(null,n,e));1&e&&(e=t.s),t=t.v}if(t&&t.then)return void t.then(s.bind(null,n,e),s.bind(null,n,2));n.s=e,n.v=t;const r=n.o;r&&r(n)}}function f(n){return n instanceof u&&1&n.s}"undefined"!=typeof Symbol&&(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"!=typeof Symbol&&(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));var a=i(__dirname,"../data/accessPoints.json");!function(){try{var h=function(n,e,t){for(var r;;){var o=n();if(f(o)&&(o=o.v),!o)return i;if(o.then){r=0;break}var i=t();if(i&&i.then){if(!f(i)){r=1;break}i=i.s}if(e){var c=e();if(c&&c.then&&!f(c)){r=2;break}}}var a=new u,h=s.bind(null,a,2);return(0===r?o.then(m):1===r?i.then(l):c.then(v)).then(void 0,h),a;function l(r){i=r;do{if(e&&(c=e())&&c.then&&!f(c))return void c.then(v).then(void 0,h);if(!(o=n())||f(o)&&!o.v)return void s(a,1,i);if(o.then)return void o.then(m).then(void 0,h);f(i=t())&&(i=i.v)}while(!i||!i.then);i.then(l).then(void 0,h)}function m(n){n?(i=t())&&i.then?i.then(l).then(void 0,h):l(i):s(a,1,i)}function v(){(o=n())?o.then?o.then(m).then(void 0,h):m(o):s(a,1,i)}}(function(){return!0},void 0,function(){return Promise.resolve(function(){try{return Promise.resolve(n([{type:"number",name:"numero_nodo",message:"Ingrese numero del nodo a analizar:"}])).then(function(n){return n.numero_nodo})}catch(n){return Promise.reject(n)}}()).then(function(n){return Promise.resolve(function(){try{return e.init({iface:null}),Promise.resolve(e.scan()).then(function(n){return t.map(n,function(n){return{ssid:n.ssid,mac:n.mac,channel:n.channel,signal_level:n.signal_level,quality:n.quality}})})}catch(n){return Promise.reject(n)}}()).then(function(e){console.log("nNodo: ",n),console.log("networks: ",e),function(n,e,t){void 0===t&&(t="w");try{Promise.resolve(r(i(__dirname,"../data/",e),n,{flag:t})).then(function(){})}catch(n){return Promise.reject(n)}}(e,t.toString(n)+".json"),function(n,e){try{Promise.resolve(function(){try{var n={},e=function(){if(c(a))return Promise.resolve(o(a)).then(function(e){n=e})}();return Promise.resolve(e&&e.then?e.then(function(){return n}):n)}catch(n){return Promise.reject(n)}}()).then(function(o){return t.forEach(n,function(n){t.defaults(o,{mac:{ssid:n.ssid,mac:n.mac,channel:n.channel,node:e,provider:"",ip:""}})}),Promise.resolve(function(n){try{return Promise.resolve(r(a,n)).then(function(){return n})}catch(n){return Promise.reject(n)}}(o)).then(function(){return o})})}catch(n){return Promise.reject(n)}}(e,n)})})});Promise.resolve(h&&h.then?h.then(function(){}):void 0)}catch(n){return Promise.reject(n)}}();
//# sourceMappingURL=index.mjs.map
